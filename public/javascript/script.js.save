const form = document.querySelector('form');
app.controller("page-control", function($scope,$rootScope){
		$scope.text_header = attrVal('.page-title');
		$scope.text_body = attrVal('.textbox');
		$scope.page_key = attrVal('.page-key');
		$scope.custom_url = attrVal('.custom-url');
		$scope.explore = false;
		$scope.hashtagsVisibility = false;
	    //random string generator
            $scope.genRandom = function(){
                const characters ='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
    		const length=6;
    		let result = '';
    		const charactersLength = characters.length;
    		for (let i = 0; i < length; i++ ) {
        		result += characters.charAt(Math.floor(Math.random() * charactersLength));
            	};
            	return result;
            }
	    //ends
	    $scope.copyToClipboard = function(e){
		e.select();
		document.execCommand('copy');
	    };
	    $scope.path = function(url_key){
		var url = window.location.href.replace(window.location.pathname,"");
		if(url.endsWith('/')){
			url = url.slice(0,-1);
		}
		url += "/"+url_key;
		return url;
           }
	   $scope.exploreToggle = function($event){
	        checkbox = $event.target;
		const args = {'checkbox':checkbox,'scope':$scope}
		$rootScope.$broadcast('displayHashtags', args);
	   };
	   $scope.submitForm = function(){
		if($scope.explore){
			
		}
		form.submit()
	   }
        })
	function attrVal(query){
		var val = document.querySelector(query).value;
		return val.trim();
	}
